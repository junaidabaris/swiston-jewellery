var VWO_RS=function(e){"use strict";function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u="VWO",c="VWO";o({},c,"VWO"),o(o(o(o(o(o(o(o({},u,u),"VisualWebsiteOptimizer",u),"Visualwebsiteoptimizer",u),"visualwebsiteoptimizer",u),"vwo",u),"Visual Website Optimizer",u),"Visual website optimizer",u),"visual website optimizer",u);var l={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},d=function(){function e(t,r){n(this,e),this.level=+r||l.ERROR.value,this.scope=t||""}return i(e,[{key:"setLogLevel",value:function(e){if(e&&"string"==typeof e){var t=e.toUpperCase();this.level=l[t]?l[t].value:this.level}}},{key:"setScope",value:function(e){this.scope=e||this.scope}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.LOG.value)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.INFO.value)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.DEBUG.value)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.WARN.value)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.ERROR.value)}},{key:"logBase",value:function(e,t){if(this.level<=t){var n=Object.values(l).find((function(e){return e.value===t}));n.method.apply(n,a(this.getLogData(e)))}}},{key:"getLogData",value:function(e){if(Array.isArray(e)&&e.length>0){var t="%c RS SDK";this.scope&&(t="".concat(t," - ").concat(this.scope));var n=e[0].trim();t="".concat(t," %c ").concat(n);var r=[];return r.push(t),r.push("font-weight: bold; background: black; color: white;"),r.push("font-weight: normal;"),r.push.apply(r,a(e.slice(1))),r}return e}}]),e}(),v=function(e){return"rudder.".concat(e.trim())};var p=new d(c),f=function(){function e(t,r,i){n(this,e),r.logLevel&&p.setLogLevel(r.logLevel),this.analytics=r,this.accountId=t.accountId,this.settingsTolerance=t.settingsTolerance,this.isSPA=t.isSPA,this.libraryTolerance=t.libraryTolerance,this.useExistingJquery=t.useExistingJquery,this.sendExperimentTrack=t.sendExperimentTrack,this.sendExperimentIdentify=t.sendExperimentIdentify,this.name=u;var o=null!=i?i:{};this.shouldApplyDeviceModeTransformation=o.shouldApplyDeviceModeTransformation,this.propagateEventsUntransformedOnError=o.propagateEventsUntransformedOnError,this.destinationId=o.destinationId}return i(e,[{key:"init",value:function(){var e,t=(e=this.analytics.loadOnlyIntegrations)&&(e[c]||e[u]);null!=t&&t.loadIntegration?function(e,t,n,r,i){var o,a;window._vwo_code=(o=!1,a=document,{use_existing_jquery:function(){return r},library_tolerance:function(){return n},finish:function(){if(!o){o=!0;var e=a.getElementById("_vis_opt_path_hides");e&&e.parentNode.removeChild(e)}},finished:function(){return o},load:function(e){var t=a.createElement("script");t.src=e,t.type="text/javascript",t.setAttribute("data-loader","RS_JS_SDK"),t.innerText,t.onerror=function(){_vwo_code.finish()},a.getElementsByTagName("head")[0].appendChild(t)},init:function(){var n=setTimeout("_vwo_code.finish()",t),r=a.createElement("style"),o="body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}",s=a.getElementsByTagName("head")[0];return r.setAttribute("id","_vis_opt_path_hides"),r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(a.createTextNode(o)),s.appendChild(r),this.load("//dev.visualwebsiteoptimizer.com/j.php?a=".concat(e,"&u=").concat(encodeURIComponent(a.URL),"&r=").concat(Math.random(),"&f=").concat(+i)),n}}),window._vwo_settings_timer=window._vwo_code.init()}(this.accountId,this.settingsTolerance,this.libraryTolerance,this.useExistingJquery,this.isSPA):p.info("loadIntegration flag is disabled");window.VWO=window.VWO||[],window.VWO.event=window.VWO.event||function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.VWO.push(["event"].concat(t))},window.VWO.visitor=window.VWO.visitor||function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.VWO.push(["visitor"].concat(t))},(this.sendExperimentTrack||this.experimentViewedIdentify)&&this.experimentViewed()}},{key:"isLoaded",value:function(){return!!window._vwo_code}},{key:"isReady",value:function(){return this.isLoaded()}},{key:"experimentViewed",value:function(){var e=this;window.VWO=window.VWO||[],window.VWO.push(["onVariationApplied",function(t){if(t){var n=t[1],r=t[2];if(p.info("experiment id:",n,"Variation Name:",_vwo_exp[n].comb_n[r]),void 0!==_vwo_exp[n].comb_n[r]&&["VISUAL_AB","VISUAL","SPLIT_URL","SURVEY"].indexOf(_vwo_exp[n].type)>-1){try{e.sendExperimentTrack&&e.analytics.track("Experiment Viewed",{experimentId:n,variationName:_vwo_exp[n].comb_n[r],CampaignName:_vwo_exp[n].name,VariationId:r})}catch(i){p.error("experimentViewed",i)}try{e.sendExperimentIdentify&&e.analytics.identify(o({},"Experiment: ".concat(n),_vwo_exp[n].comb_n[r]))}catch(i){p.error("experimentViewed",i)}}}}])}},{key:"identify",value:function(e){var t=e.message,n=function(e){var t={};for(var n in e)t[v(n)]=e[n];return t}((t.context||t).traits||{});window.VWO.visitor(n,{source:"rudderstack"})}},{key:"track",value:function(e){var t=e.message.event;if(t){var n=e.message&&e.message.properties||{};if(window.VWO=window.VWO||[],"Order Completed"===t){var r=e.message.properties?e.message.properties.total||e.message.properties.revenue:0;window.VWO=window.VWO||[],window.VWO.push(["track.revenueConversion",r])}var i=v(t);p.debug("[VWO] eventName: ".concat(i)),window.VWO.event(i,n,{source:"rudderstack",ogName:t})}else p.error("[VWO] track:: event name is required")}}]),e}();return e.VWO=f,e}({});
//# sourceMappingURL=VWO.min.js.map
