var SnapPixel_RS=function(e){"use strict";function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&1===Object.keys(e).length?e.default:e}var d=function(e){return null!=e&&"object"===o(e)&&!1===Array.isArray(e)},v=function(e,t,r){if(d(r)||(r={default:r}),!m(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));var n=Array.isArray(t),o="string"==typeof t,i=r.separator||".",a=r.joinChar||("string"==typeof i?i:".");if(!o&&!n)return e;if(o&&t in e)return g(t,e,r)?e[t]:r.default;var s=n?t:function(e,t,r){if("function"==typeof r.split)return r.split(e);return e.split(t)}(t,i,r),c=s.length,u=0;do{var f=s[u];for("number"==typeof f&&(f=String(f));f&&"\\"===f.slice(-1);)f=y([f.slice(0,-1),s[++u]||""],a,r);if(f in e){if(!g(f,e,r))return r.default;e=e[f]}else{for(var l=!1,p=u+1;p<c;)if(l=(f=y([f,s[p++]],a,r))in e){if(!g(f,e,r))return r.default;e=e[f],u=p-1;break}if(!l)return r.default}}while(++u<c&&m(e));return u===c?e:r.default};function y(e,t,r){return"function"==typeof r.join?r.join(e):e[0]+t+e[1]}function g(e,t,r){return"function"!=typeof r.isValid||r.isValid(e,t)}function m(e){return d(e)||Array.isArray(e)||"function"==typeof e}var _=p(v),b={exports:{}};var w,C={exports:{}},k=h(Object.freeze({__proto__:null,default:{}}));function S(){return w||(w=1,C.exports=(e=e||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==l&&l.crypto&&(r=l.crypto),!r)try{r=k}catch(y){}var n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(y){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(y){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),i={},a=i.lib={},s=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=s.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=a<<24-(n+i)%4*8}else for(var s=0;s<o;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new c.init(t,e)}}),u=i.enc={},f=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},p=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},d=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,o=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,f=e.min(4*u,i);if(u){for(var l=0;l<u;l+=a)this._doProcessBlock(o,l);r=o.splice(0,u),n.sigBytes-=f}return new c.init(r,f)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=d.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new v.HMAC.init(e,r).finalize(t)}}});var v=i.algo={};return i}(Math),e)),C.exports;var e}var A,x={exports:{}};function O(){return A||(A=1,x.exports=(e=S(),function(){var t=e,r=t.lib.WordArray;function n(e,t,n){for(var o=[],i=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=s<<24-i%4*8,i++}return r.create(o,i)}t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)o.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)),x.exports;var e}var j,I={exports:{}};function E(){return j||(j=1,I.exports=(e=S(),function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],d=e[t+3],v=e[t+4],y=e[t+5],g=e[t+6],m=e[t+7],_=e[t+8],b=e[t+9],w=e[t+10],C=e[t+11],k=e[t+12],S=e[t+13],A=e[t+14],x=e[t+15],O=i[0],j=i[1],I=i[2],E=i[3];O=u(O,j,I,E,a,7,s[0]),E=u(E,O,j,I,c,12,s[1]),I=u(I,E,O,j,h,17,s[2]),j=u(j,I,E,O,d,22,s[3]),O=u(O,j,I,E,v,7,s[4]),E=u(E,O,j,I,y,12,s[5]),I=u(I,E,O,j,g,17,s[6]),j=u(j,I,E,O,m,22,s[7]),O=u(O,j,I,E,_,7,s[8]),E=u(E,O,j,I,b,12,s[9]),I=u(I,E,O,j,w,17,s[10]),j=u(j,I,E,O,C,22,s[11]),O=u(O,j,I,E,k,7,s[12]),E=u(E,O,j,I,S,12,s[13]),I=u(I,E,O,j,A,17,s[14]),O=f(O,j=u(j,I,E,O,x,22,s[15]),I,E,c,5,s[16]),E=f(E,O,j,I,g,9,s[17]),I=f(I,E,O,j,C,14,s[18]),j=f(j,I,E,O,a,20,s[19]),O=f(O,j,I,E,y,5,s[20]),E=f(E,O,j,I,w,9,s[21]),I=f(I,E,O,j,x,14,s[22]),j=f(j,I,E,O,v,20,s[23]),O=f(O,j,I,E,b,5,s[24]),E=f(E,O,j,I,A,9,s[25]),I=f(I,E,O,j,d,14,s[26]),j=f(j,I,E,O,_,20,s[27]),O=f(O,j,I,E,S,5,s[28]),E=f(E,O,j,I,h,9,s[29]),I=f(I,E,O,j,m,14,s[30]),O=l(O,j=f(j,I,E,O,k,20,s[31]),I,E,y,4,s[32]),E=l(E,O,j,I,_,11,s[33]),I=l(I,E,O,j,C,16,s[34]),j=l(j,I,E,O,A,23,s[35]),O=l(O,j,I,E,c,4,s[36]),E=l(E,O,j,I,v,11,s[37]),I=l(I,E,O,j,m,16,s[38]),j=l(j,I,E,O,w,23,s[39]),O=l(O,j,I,E,S,4,s[40]),E=l(E,O,j,I,a,11,s[41]),I=l(I,E,O,j,d,16,s[42]),j=l(j,I,E,O,g,23,s[43]),O=l(O,j,I,E,b,4,s[44]),E=l(E,O,j,I,k,11,s[45]),I=l(I,E,O,j,x,16,s[46]),O=p(O,j=l(j,I,E,O,h,23,s[47]),I,E,a,6,s[48]),E=p(E,O,j,I,m,10,s[49]),I=p(I,E,O,j,A,15,s[50]),j=p(j,I,E,O,y,21,s[51]),O=p(O,j,I,E,k,6,s[52]),E=p(E,O,j,I,d,10,s[53]),I=p(I,E,O,j,w,15,s[54]),j=p(j,I,E,O,c,21,s[55]),O=p(O,j,I,E,_,6,s[56]),E=p(E,O,j,I,x,10,s[57]),I=p(I,E,O,j,g,15,s[58]),j=p(j,I,E,O,S,21,s[59]),O=p(O,j,I,E,v,6,s[60]),E=p(E,O,j,I,C,10,s[61]),I=p(I,E,O,j,h,15,s[62]),j=p(j,I,E,O,b,21,s[63]),i[0]=i[0]+O|0,i[1]=i[1]+j|0,i[2]=i[2]+I|0,i[3]=i[3]+E|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),a=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var f=c[u];c[u]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+o+a;return(s<<i|s>>>32-i)+t}function l(e,t,r,n,o,i,a){var s=e+(t^r^n)+o+a;return(s<<i|s>>>32-i)+t}function p(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+o+a;return(s<<i|s>>>32-i)+t}r.MD5=i._createHelper(c),r.HmacMD5=i._createHmacHelper(c)}(Math),e.MD5)),I.exports;var e}var F,D={exports:{}},B={exports:{}};function R(){return F||(F=1,B.exports=(s=S(),t=(e=s).lib,r=t.WordArray,n=t.Hasher,o=e.algo,i=[],a=o.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=0;u<80;u++){if(u<16)i[u]=0|e[t+u];else{var f=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=f<<1|f>>>31}var l=(n<<5|n>>>27)+c+i[u];l+=u<20?1518500249+(o&a|~o&s):u<40?1859775393+(o^a^s):u<60?(o&a|o&s|a&s)-1894007588:(o^a^s)-899497514,c=s,s=a,a=o<<30|o>>>2,o=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=n._createHelper(a),e.HmacSHA1=n._createHmacHelper(a),s.SHA1)),B.exports;var e,t,r,n,o,i,a,s}var P,T,M={exports:{}};function z(){return T||(T=1,D.exports=function(e){return r=(t=e).lib,n=r.Base,o=r.WordArray,i=t.algo,a=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),a=o.create(),s=a.words,c=n.keySize,u=n.iterations;s.length<c;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var f=1;f<u;f++)r=i.finalize(r),i.reset();a.concat(r)}return a.sigBytes=4*c,a}}),t.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)},e.EvpKDF;var t,r,n,o,i,a,s}(S(),R(),(P||(P=1,M.exports=(e=S(),void function(){var t=e,r=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,o=4*r;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),s=i.words,c=a.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}())),M.exports))),D.exports;var e}var L,U,K={exports:{}};b.exports=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,o=[],i=[],a=[],s=[],c=[],u=[],f=[],l=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,o[r]=d,i[d]=r;var v=e[r],y=e[v],g=e[y],m=257*e[d]^16843008*d;a[r]=m<<24|m>>>8,s[r]=m<<16|m>>>16,c[r]=m<<8|m>>>24,u[r]=m,m=16843009*g^65537*y^257*v^16843008*r,f[d]=m<<24|m>>>8,l[d]=m<<16|m>>>16,p[d]=m<<8|m>>>24,h[d]=m,r?(r=v^e[e[e[g^v]]],n^=e[e[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],a=0;a<n;a++)a<r?i[a]=t[a]:(u=i[a-1],a%r?r>6&&a%r==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=o[(u=u<<8|u>>>24)>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=d[a/r|0]<<24),i[a]=i[a-r]^u);for(var s=this._invKeySchedule=[],c=0;c<n;c++){if(a=n-c,c%4)var u=i[a];else u=i[a-4];s[c]=c<4||a<=4?u:f[o[u>>>24]]^l[o[u>>>16&255]]^p[o[u>>>8&255]]^h[o[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,f,l,p,h,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,a,s){for(var c=this._nRounds,u=e[t]^r[0],f=e[t+1]^r[1],l=e[t+2]^r[2],p=e[t+3]^r[3],h=4,d=1;d<c;d++){var v=n[u>>>24]^o[f>>>16&255]^i[l>>>8&255]^a[255&p]^r[h++],y=n[f>>>24]^o[l>>>16&255]^i[p>>>8&255]^a[255&u]^r[h++],g=n[l>>>24]^o[p>>>16&255]^i[u>>>8&255]^a[255&f]^r[h++],m=n[p>>>24]^o[u>>>16&255]^i[f>>>8&255]^a[255&l]^r[h++];u=v,f=y,l=g,p=m}v=(s[u>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^r[h++],y=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^r[h++],g=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&f])^r[h++],m=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^r[h++],e[t]=v,e[t+1]=y,e[t+2]=g,e[t+3]=m},keySize:8});t.AES=r._createHelper(v)}(),e.AES}(S(),O(),E(),z(),L||(L=1,K.exports=(U=S(),z(),void(U.lib.Cipher||function(e){var t=U,r=t.lib,n=r.Base,o=r.WordArray,i=r.BufferedBlockAlgorithm,a=t.enc;a.Utf8;var s=a.Base64,c=t.algo.EvpKDF,u=r.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?m:y}return function(t){return{encrypt:function(r,n,o){return e(n).encrypt(t,r,n,o)},decrypt:function(r,n,o){return e(n).decrypt(t,r,n,o)}}}}()});r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=t.mode={},l=r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=f.CBC=function(){var t=l.extend();function r(t,r,n){var o,i=this._iv;i?(o=i,this._iv=e):o=this._prevBlock;for(var a=0;a<n;a++)t[r+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize;r.call(this,e,t,o),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=e.slice(t,t+o);n.decryptBlock(e,t),r.call(this,e,t,o),this._prevBlock=i}}),t}(),h=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(i);var c=o.create(a,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:h}),reset:function(){var e;u.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var d=r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?o.create([1398893684,1701076831]).concat(r).concat(t):t).toString(s)},parse:function(e){var t,r=s.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),d.create({ciphertext:r,salt:t})}},y=r.SerializableCipher=n.extend({cfg:n.extend({format:v}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n),i=o.finalize(t),a=o.cfg;return d.create({ciphertext:i,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(t.kdf={}).OpenSSL={execute:function(e,t,r,n,i){if(n||(n=o.random(8)),i)a=c.create({keySize:t+r,hasher:i}).compute(e,n);else var a=c.create({keySize:t+r}).compute(e,n);var s=o.create(a.words.slice(t),4*r);return a.sigBytes=4*t,d.create({key:a,iv:s,salt:n})}},m=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:g}),encrypt:function(e,t,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=o.iv;var i=y.encrypt.call(this,e,t,o.key,n);return i.mixIn(o),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(r,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=o.iv,y.decrypt.call(this,e,t,o.key,n)}})}()))));var H=p(b.exports),N={exports:{}};!function(e,t){e.exports=function(e){return e.enc.Utf8}(S())}(N);var W,$,V=p(N.exports),G=4,J=function(){var e;G<=2&&(e=console).log.apply(e,arguments)},q=function(){var e;G<=3&&(e=console).warn.apply(e,arguments)},X=function(){var e;G<=4&&(e=console).error.apply(e,arguments)},Z={exports:{}};function Q(){if($)return W;$=1;var e=1e3,t=60*e,r=60*t,n=24*r,i=7*n,a=365.25*n;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}return W=function(c,u){u=u||{};var f=o(c);if("string"===f&&c.length>0)return function(o){if((o=String(o)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(!s)return;var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(c);if("number"===f&&isFinite(c))return u.long?function(o){var i=Math.abs(o);if(i>=n)return s(o,i,n,"day");if(i>=r)return s(o,i,r,"hour");if(i>=t)return s(o,i,t,"minute");if(i>=e)return s(o,i,e,"second");return o+" ms"}(c):function(o){var i=Math.abs(o);if(i>=n)return Math.round(o/n)+"d";if(i>=r)return Math.round(o/r)+"h";if(i>=t)return Math.round(o/t)+"m";if(i>=e)return Math.round(o/e)+"s";return o+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))},W}var Y=function(e){function t(e){var n,o,i,a=null;function s(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];if(s.enabled){var i=s,a=Number(new Date),c=a-(n||a);i.diff=c,i.prev=n,i.curr=a,n=a,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";u++;var o=t.formatters[n];if("function"==typeof o){var a=r[u];e=o.call(i,a),r.splice(u,1),u--}return e})),t.formatArgs.call(i,r),(i.log||t.log).apply(i,r)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(u(t.names.map(n)),u(t.skips.map(n).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=Q(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t};!function(e,t){var r;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=Y(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(Z,Z.exports);var ee=Z.exports,te=ee("cookie"),re=function(e,t,r){switch(arguments.length){case 3:case 2:return function(e,t,r){r=r||{};var n=oe(e)+"="+oe(t);null==t&&(r.maxage=-1);r.maxage&&(r.expires=new Date(+new Date+r.maxage));r.path&&(n+="; path="+r.path);r.domain&&(n+="; domain="+r.domain);r.expires&&(n+="; expires="+r.expires.toUTCString());r.samesite&&(n+="; samesite="+r.samesite);r.secure&&(n+="; secure");document.cookie=n}(e,t,r);case 1:return function(e){return ne()[e]}(e);default:return ne()}};function ne(){var e;try{e=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return function(e){var t,r={},n=e.split(/ *; */);if(""==n[0])return r;for(var o=0;o<n.length;++o)r[ie((t=n[o].split("="))[0])]=ie(t[1]);return r}(e)}function oe(e){try{return encodeURIComponent(e)}catch(t){te("error `encode(%o)` - %o",e,t)}}function ie(e){try{return decodeURIComponent(e)}catch(t){te("error `decode(%o)` - %o",e,t)}}var ae=p(re),se={exports:{}},ce=Math.max,ue=function(e,t){var r=t?t.length:0;if(!r)return[];for(var n=ce(Number(e)||0,0),o=ce(r-n,0),i=new Array(o),a=0;a<o;a+=1)i[a]=t[a+n];return i},fe=Math.max,le=ue,pe=function(e){if(null==e||!e.length)return[];for(var t=new Array(fe(e.length-2,0)),r=1;r<e.length;r+=1)t[r-1]=e[r];return t},he=Object.prototype.hasOwnProperty,de=Object.prototype.toString,ve=function(e){return Boolean(e)&&"[object Object]"===de.call(e)},ye=function(e,t,r,n){return he.call(t,n)&&void 0===e[n]&&(e[n]=r),t},ge=function(e,t,r,n){return he.call(t,n)&&(ve(e[n])&&ve(r)?e[n]=_e(e[n],r):void 0===e[n]&&(e[n]=r)),t},me=function(e,t){if(r=t,!Boolean(r)||"object"!==o(r))return t;var r;e=e||ye;for(var n=le(2,arguments),i=0;i<n.length;i+=1)for(var a in n[i])e(t,n[i],n[i][a],a);return t},_e=function(e){return me.apply(null,[ge,e].concat(pe(arguments)))};se.exports=function(e){return me.apply(null,[null,e].concat(pe(arguments)))},se.exports.deep=_e;var be=p(se.exports),we={exports:{}},Ce=ee("cookie"),ke=function(e,t,r){switch(arguments.length){case 3:case 2:return function(e,t,r){r=r||{};var n=Ae(e)+"="+Ae(t);null==t&&(r.maxage=-1);r.maxage&&(r.expires=new Date(+new Date+r.maxage));r.path&&(n+="; path="+r.path);r.domain&&(n+="; domain="+r.domain);r.expires&&(n+="; expires="+r.expires.toUTCString());r.secure&&(n+="; secure");document.cookie=n}(e,t,r);case 1:return function(e){return Se()[e]}(e);default:return Se()}};function Se(){var e;try{e=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return function(e){var t,r={},n=e.split(/ *; */);if(""==n[0])return r;for(var o=0;o<n.length;++o)r[xe((t=n[o].split("="))[0])]=xe(t[1]);return r}(e)}function Ae(e){try{return encodeURIComponent(e)}catch(t){Ce("error `encode(%o)` - %o",e,t)}}function xe(e){try{return decodeURIComponent(e)}catch(t){Ce("error `decode(%o)` - %o",e,t)}}!function(e,t){var r=ke;function n(e){for(var r=t.cookie,n=t.levels(e),o=0;o<n.length;++o){var i="__tld__",a=n[o],s={domain:"."+a};if(r(i,1,s),r(i))return r(i,null,s),a}return""}n.levels=function(e){var t,r,n=("function"!=typeof window.URL?(t=e,(r=document.createElement("a")).href=t,r.hostname):new URL(e).hostname).split("."),o=n[n.length-1],i=[];if(4===n.length&&o===parseInt(o,10))return i;if(n.length<=1)return i;for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));return i},n.cookie=r,t=e.exports=n}(we,we.exports);var Oe=p(we.exports);function je(e){return function t(r){return 0===arguments.length||function(e){return null!=e&&"object"===o(e)&&!0===e["@@functional/placeholder"]}(r)?t:e.apply(this,arguments)}}var Ie=je((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function Ee(e,t,r){if(r||(r=new Fe),function(e){var t=o(e);return null==e||"object"!=t&&"function"!=t}(e))return e;var n,i=function(n){var o=r.get(e);if(o)return o;for(var i in r.set(e,n),e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=t?Ee(e[i],!0,r):e[i]);return n};switch(Ie(e)){case"Object":return i(Object.create(Object.getPrototypeOf(e)));case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return n=e,new RegExp(n.source,n.flags?n.flags:(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.sticky?"y":"")+(n.unicode?"u":"")+(n.dotAll?"s":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var Fe=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(e,t){var r=this.hash(e),n=this.map[r];n||(this.map[r]=n=[]),n.push([e,t]),this.length+=1},e.prototype.hash=function(e){var t=[];for(var r in e)t.push(Object.prototype.toString.call(e[r]));return t.join()},e.prototype.get=function(e){if(this.length<=180)for(var t in this.map)for(var r=this.map[t],n=0;n<r.length;n+=1){var o=r[n];if(o[0]===e)return o[1]}else{var i=this.hash(e),a=this.map[i];if(a)for(var s=0;s<a.length;s+=1){var c=a[s];if(c[0]===e)return c[1]}}},e}(),De=je((function(e){return null!=e&&"function"==typeof e.clone?e.clone():Ee(e,!0)})),Be=function(){function e(t){i(this,e),this.cOpts={},this.options(t),this.isSupportAvailable=this.checkSupportAvailability()}return s(e,[{key:"options",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===arguments.length)return this.cOpts;var t=".".concat(Oe(window.location.href));return"."===t&&(t=null),this.cOpts=be(e,{maxage:31536e6,path:"/",domain:t,samesite:"Lax"}),e.sameDomainCookiesOnly&&delete this.cOpts.domain,this.cOpts}},{key:"set",value:function(e,t){try{return ae(e,t,De(this.cOpts)),!0}catch(r){return X(r),!1}}},{key:"get",value:function(e){return ae(e)}},{key:"remove",value:function(e){try{return ae(e,null,De(this.cOpts)),!0}catch(t){return!1}}},{key:"checkSupportAvailability",value:function(){var e="test_rudder_cookie";return this.set(e,!0),!!this.get(e)&&(this.remove(e),!0)}}]),e}(),Re=new Be({}),Pe={exports:{}};!function(e,t){e.exports=function(){function e(e){return e=JSON.stringify(e),!!/^\{[\s\S]*\}$/.test(e)}function t(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)}function r(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}}function n(e){return"[object Function]"==={}.toString.call(e)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){var t="_Is_Incognit",r="yes";try{e||(e=window.localStorage),e.setItem(t,r),e.removeItem(t)}catch(o){var n={_data:{},setItem:function(e,t){return n._data[e]=String(t)},getItem:function(e){return n._data.hasOwnProperty(e)?n._data[e]:void 0},removeItem:function(e){return delete n._data[e]},clear:function(){return n._data={}}};e=n}finally{e.getItem(t)===r&&e.removeItem(t)}return e}var a=i();function s(){if(!(this instanceof s))return new s}s.prototype={set:function(r,n){if(r&&!e(r))a.setItem(r,t(n));else if(e(r))for(var o in r)this.set(o,r[o]);return this},get:function(e){if(void 0===e){var t={};return this.forEach((function(e,r){return t[e]=r})),t}if("?"===e.charAt(0))return this.has(e.substr(1));var n=arguments;if(n.length>1){for(var o={},i=0,s=n.length;i<s;i++){var c=r(a.getItem(n[i]));this.has(n[i])&&(o[n[i]]=c)}return o}return r(a.getItem(e))},clear:function(){return a.clear(),this},remove:function(e){var t=this.get(e);return a.removeItem(e),t},has:function(e){return{}.hasOwnProperty.call(this.get(),e)},keys:function(){var e=[];return this.forEach((function(t){e.push(t)})),e},forEach:function(e){for(var t=0,r=a.length;t<r;t++){var n=a.key(t);e(n,this.get(n))}return this},search:function(e){for(var t=this.keys(),r={},n=0,o=t.length;n<o;n++)t[n].indexOf(e)>-1&&(r[t[n]]=this.get(t[n]));return r}};var c=null;function u(t,r){var i=arguments,a=null;if(c||(c=s()),0===i.length)return c.get();if(1===i.length){if("string"==typeof t)return c.get(t);if(e(t))return c.set(t)}if(2===i.length&&"string"==typeof t){if(!r)return c.remove(t);if(r&&"string"==typeof r)return c.set(t,r);r&&n(r)&&(a=null,a=r(t,c.get(t)),u.set(t,a))}if(2===i.length&&o(t)&&n(r))for(var f=0,l=t.length;f<l;f++)a=r(t[f],c.get(t[f])),u.set(t[f],a);return u}for(var f in s.prototype)u[f]=s.prototype[f];return u}()}(Pe);var Te=p(Pe.exports),Me=function(){function e(t){i(this,e),this.sOpts={},this.enabled=this.checkSupportAvailability(),this.options(t)}return s(e,[{key:"options",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===arguments.length||(be(e,{enabled:!0}),this.enabled=e.enabled&&this.enabled,this.sOpts=e),this.sOpts}},{key:"set",value:function(e,t){return Te.set(e,t)}},{key:"get",value:function(e){return Te.get(e)}},{key:"remove",value:function(e){return Te.remove(e)}},{key:"checkSupportAvailability",value:function(){try{var e="test_rudder_ls";return this.set(e,!0),!!this.get(e)&&(this.remove(e),!0)}catch(t){return!1}}}]),e}(),ze=new Me({}),Le=function(e){return(new TextDecoder).decode((t=e,r=globalThis.atob(t).split("").map((function(e){return e.charCodeAt(0)})),new Uint8Array(r)));var t,r},Ue=function(e,t){try{return JSON.stringify(e,function(e){var t=[];return function(r,n){if(!e||null!=n){if("object"!==o(n)||null===n)return n;for(;t.length>0&&t[t.length-1]!==this;)t.pop();return t.includes(n)?(J("Circular Reference detected for key: ".concat(r)),"[Circular Reference]"):(t.push(n),n)}}}(t))}catch(r){return q("Failed to convert the value to a JSON string."),null}},Ke="rl_user_id",He="rl_trait",Ne="rl_anonymous_id",We="rl_group_id",$e="rl_group_trait",Ve="rl_page_init_referrer",Ge="rl_page_init_referring_domain",Je="rl_session",qe="rl_auth_token",Xe="RudderEncrypt:",Ze="RS_ENC_v3_",Qe="Rudder",Ye={segment:"ajs_anonymous_id"};function et(e){try{return e?JSON.parse(e):null}catch(t){return X(t),e||null}}function tt(e){return e.replace(/^\s+|\s+$/gm,"")}function rt(e){return e&&"string"==typeof e&&""!==tt(e)?e.substring(0,Xe.length)===Xe?H.decrypt(e.substring(Xe.length),Qe).toString(V):e.substring(0,Ze.length)===Ze?Le(e.substring(Ze.length)):e:e}var nt=function(){function e(){i(this,e),Re.isSupportAvailable?this.storage=Re:(ze.enabled&&(this.storage=ze),this.storage||X("No storage is available :: initializing the SDK without storage"))}return s(e,[{key:"options",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.storage.options(e)}},{key:"setItem",value:function(e,t){var r=Ue(t);null!==r&&this.storage.set(e,function(e){return""===tt(e)?e:"".concat(Xe).concat(H.encrypt(e,Qe).toString())}(r))}},{key:"setStringItem",value:function(e,t){"string"==typeof t?this.setItem(e,t):X("[Storage] ".concat(e," should be string"))}},{key:"setUserId",value:function(e){this.setStringItem(Ke,e)}},{key:"setUserTraits",value:function(e){this.setItem(He,e)}},{key:"setGroupId",value:function(e){this.setStringItem(We,e)}},{key:"setGroupTraits",value:function(e){this.setItem($e,e)}},{key:"setAnonymousId",value:function(e){this.setStringItem(Ne,e)}},{key:"setInitialReferrer",value:function(e){this.setItem(Ve,e)}},{key:"setInitialReferringDomain",value:function(e){this.setItem(Ge,e)}},{key:"setSessionInfo",value:function(e){this.setItem(Je,e)}},{key:"setAuthToken",value:function(e){this.setItem(qe,e)}},{key:"getItem",value:function(e){return et(rt(this.storage.get(e)))}},{key:"getUserId",value:function(){return this.getItem(Ke)}},{key:"getUserTraits",value:function(){return this.getItem(He)}},{key:"getGroupId",value:function(){return this.getItem(We)}},{key:"getGroupTraits",value:function(){return this.getItem($e)}},{key:"fetchExternalAnonymousId",value:function(e){var t,r=e.toLowerCase();return Object.keys(Ye).includes(r)&&"segment"===r?(ze.enabled&&(t=ze.get(Ye[r])),!t&&Re.isSupportAvailable&&(t=Re.get(Ye[r])),t):t}},{key:"getAnonymousId",value:function(e){var t=et(rt(this.storage.get(Ne)));if(t)return t;var r=_(e,"autoCapture.source");if(!0===_(e,"autoCapture.enabled")&&"string"==typeof r){var n=this.fetchExternalAnonymousId(r);if(n)return n}return t}},{key:"getInitialReferrer",value:function(){return this.getItem(Ve)}},{key:"getInitialReferringDomain",value:function(){return this.getItem(Ge)}},{key:"getSessionInfo",value:function(){return this.getItem(Je)}},{key:"getAuthToken",value:function(){return this.getItem(qe)}},{key:"removeItem",value:function(e){return this.storage.remove(e)}},{key:"removeSessionInfo",value:function(){this.removeItem(Je)}},{key:"clear",value:function(e){this.storage.remove(Ke),this.storage.remove(He),this.storage.remove(We),this.storage.remove($e),this.storage.remove(qe),e&&this.storage.remove(Ne)}}]),e}(),ot=new nt,it="SNAP_PIXEL",at="Snap Pixel";c({},at,"SnapPixel"),c(c(c(c(c(c(c(c({},it,it),"Snap_Pixel",it),"SnapPixel",it),"SNAPPIXEL",it),"snappixel",it),"Snap Pixel",it),"SNAP PIXEL",it),"snap pixel",it);var st={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},ct=function(){function e(t,r){i(this,e),this.level=+r||st.ERROR.value,this.scope=t||""}return s(e,[{key:"setLogLevel",value:function(e){if(e&&"string"==typeof e){var t=e.toUpperCase();this.level=st[t]?st[t].value:this.level}}},{key:"setScope",value:function(e){this.scope=e||this.scope}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,st.LOG.value)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,st.INFO.value)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,st.DEBUG.value)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,st.WARN.value)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,st.ERROR.value)}},{key:"logBase",value:function(e,t){if(this.level<=t){var r=Object.values(st).find((function(e){return e.value===t}));r.method.apply(r,u(this.getLogData(e)))}}},{key:"getLogData",value:function(e){if(Array.isArray(e)&&e.length>0){var t="%c RS SDK";this.scope&&(t="".concat(t," - ").concat(this.scope));var r=e[0].trim();t="".concat(t," %c ").concat(r);var n=[];return n.push(t),n.push("font-weight: bold; background: black; color: white;"),n.push("font-weight: normal;"),n.push.apply(n,u(e.slice(1))),n}return e}}]),e}();var ut=p((function(e){return void 0===e})),ft={exports:{}};!function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",s="[object Map]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",p="[object DataView]",h=/^\[object .+?Constructor\]$/,d="object"==o(l)&&l&&l.Object===Object&&l,v="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,y=d||v||Function("return this")(),g=t&&!t.nodeType&&t,m=g&&e&&!e.nodeType&&e,_=m&&m.exports===g;var b,w,C,k=Function.prototype,S=Object.prototype,A=y["__core-js_shared__"],x=(b=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",O=k.toString,j=S.hasOwnProperty,I=S.toString,E=RegExp("^"+O.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=_?y.Buffer:void 0,D=S.propertyIsEnumerable,B=F?F.isBuffer:void 0,R=(w=Object.keys,C=Object,function(e){return w(C(e))}),P=G(y,"DataView"),T=G(y,"Map"),M=G(y,"Promise"),z=G(y,"Set"),L=G(y,"WeakMap"),U=!D.call({valueOf:1},"valueOf"),K=q(P),H=q(T),N=q(M),W=q(z),$=q(L);function V(e){if(!te(e)||function(e){return!!x&&x in e}(e))return!1;var t=ee(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e)?E:h;return t.test(q(e))}function G(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return V(r)?r:void 0}var J=function(e){return I.call(e)};function q(e){if(null!=e){try{return O.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function X(e){return function(e){return function(e){return!!e&&"object"==o(e)}(e)&&Q(e)}(e)&&j.call(e,"callee")&&(!D.call(e,"callee")||I.call(e)==n)}(P&&J(new P(new ArrayBuffer(1)))!=p||T&&J(new T)!=s||M&&J(M.resolve())!=c||z&&J(new z)!=u||L&&J(new L)!=f)&&(J=function(e){var t=I.call(e),r="[object Object]"==t?e.constructor:void 0,n=r?q(r):void 0;if(n)switch(n){case K:return p;case H:return s;case N:return c;case W:return u;case $:return f}return t});var Z=Array.isArray;function Q(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!ee(e)}var Y=B||function(){return!1};function ee(e){var t=te(e)?I.call(e):"";return t==i||t==a}function te(e){var t=o(e);return!!e&&("object"==t||"function"==t)}e.exports=function(e){if(Q(e)&&(Z(e)||"string"==typeof e||"function"==typeof e.splice||Y(e)||X(e)))return!e.length;var t=J(e);if(t==s||t==u)return!e.size;if(U||function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}(e))return!R(e).length;for(var r in e)if(j.call(e,r))return!1;return!0}}(ft,ft.exports);var lt=p(ft.exports),pt={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=1,i=2,a=1/0,s=9007199254740991,c="[object Arguments]",u="[object Array]",f="[object Boolean]",p="[object Date]",h="[object Error]",d="[object Function]",v="[object GeneratorFunction]",y="[object Map]",g="[object Number]",m="[object Object]",_="[object Promise]",b="[object RegExp]",w="[object Set]",C="[object String]",k="[object Symbol]",S="[object WeakMap]",A="[object ArrayBuffer]",x="[object DataView]",O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j=/^\w*$/,I=/^\./,E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F=/\\(\\)?/g,D=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[c]=R[u]=R[A]=R[f]=R[x]=R[p]=R[h]=R[d]=R[y]=R[g]=R[m]=R[b]=R[w]=R[C]=R[S]=!1;var P="object"==o(l)&&l&&l.Object===Object&&l,T="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,M=P||T||Function("return this")(),z=t&&!t.nodeType&&t,L=z&&e&&!e.nodeType&&e,U=L&&L.exports===z&&P.process,K=function(){try{return U&&U.binding("util")}catch(e){}}(),H=K&&K.isTypedArray;function N(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function W(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function $(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function V(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function G(e,t){return function(r){return e(t(r))}}function J(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var q,X=Array.prototype,Z=Function.prototype,Q=Object.prototype,Y=M["__core-js_shared__"],ee=(q=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",te=Z.toString,re=Q.hasOwnProperty,ne=Q.toString,oe=RegExp("^"+te.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=M.Symbol,ae=M.Uint8Array,se=G(Object.getPrototypeOf,Object),ce=Q.propertyIsEnumerable,ue=X.splice,fe=Object.getOwnPropertySymbols,le=G(Object.keys,Object),pe=Ne(M,"DataView"),he=Ne(M,"Map"),de=Ne(M,"Promise"),ve=Ne(M,"Set"),ye=Ne(M,"WeakMap"),ge=Ne(Object,"create"),me=et(pe),_e=et(he),be=et(de),we=et(ve),Ce=et(ye),ke=ie?ie.prototype:void 0,Se=ke?ke.valueOf:void 0,Ae=ke?ke.toString:void 0;function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function je(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=e?e.length:0;for(this.__data__=new je;++t<r;)this.add(e[t])}function Ee(e){this.__data__=new Oe(e)}function Fe(e,t){var r=ot(e)||nt(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!re.call(e,i)||o&&("length"==i||Ge(i,n))||r.push(i);return r}function De(e,t){for(var r=e.length;r--;)if(rt(e[r][0],t))return r;return-1}function Be(e,t){for(var r=0,n=(t=Je(t,e)?[t]:Le(t)).length;null!=e&&r<n;)e=e[Ye(t[r++])];return r&&r==n?e:void 0}function Re(e,t){return null!=e&&t in Object(e)}function Pe(e,t,r,o,a){return e===t||(null==e||null==t||!ct(e)&&!ut(t)?e!=e&&t!=t:function(e,t,r,o,a,s){var l=ot(e),d=ot(t),v=u,_=u;l||(v=(v=Ve(e))==c?m:v);d||(_=(_=Ve(t))==c?m:_);var S=v==m&&!$(e),O=_==m&&!$(t),j=v==_;if(j&&!S)return s||(s=new Ee),l||pt(e)?Ue(e,t,r,o,a,s):function(e,t,r,o,a,s,c){switch(r){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!o(new ae(e),new ae(t)));case f:case p:case g:return rt(+e,+t);case h:return e.name==t.name&&e.message==t.message;case b:case C:return e==t+"";case y:var u=V;case w:var l=s&i;if(u||(u=J),e.size!=t.size&&!l)return!1;var d=c.get(e);if(d)return d==t;s|=n,c.set(e,t);var v=Ue(u(e),u(t),o,a,s,c);return c.delete(e),v;case k:if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,v,r,o,a,s);if(!(a&i)){var I=S&&re.call(e,"__wrapped__"),E=O&&re.call(t,"__wrapped__");if(I||E){var F=I?e.value():e,D=E?t.value():t;return s||(s=new Ee),r(F,D,o,a,s)}}if(!j)return!1;return s||(s=new Ee),function(e,t,r,n,o,a){var s=o&i,c=ht(e),u=c.length,f=ht(t),l=f.length;if(u!=l&&!s)return!1;var p=u;for(;p--;){var h=c[p];if(!(s?h in t:re.call(t,h)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var v=!0;a.set(e,t),a.set(t,e);var y=s;for(;++p<u;){var g=e[h=c[p]],m=t[h];if(n)var _=s?n(m,g,h,t,e,a):n(g,m,h,e,t,a);if(!(void 0===_?g===m||r(g,m,n,o,a):_)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,r,o,a,s)}(e,t,Pe,r,o,a))}function Te(e){return!(!ct(e)||(t=e,ee&&ee in t))&&(at(e)||$(e)?oe:D).test(et(e));var t}function Me(e){return"function"==typeof e?e:null==e?vt:"object"==o(e)?ot(e)?function(e,t){if(Je(e)&&Xe(t))return Ze(Ye(e),t);return function(r){var o=function(e,t,r){var n=null==e?void 0:Be(e,t);return void 0===n?r:n}(r,e);return void 0===o&&o===t?function(e,t){return null!=e&&function(e,t,r){t=Je(t,e)?[t]:Le(t);var n,o=-1,i=t.length;for(;++o<i;){var a=Ye(t[o]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}if(n)return n;i=e?e.length:0;return!!i&&st(i)&&Ge(a,i)&&(ot(e)||nt(e))}(e,t,Re)}(r,e):Pe(t,o,void 0,n|i)}}(e[0],e[1]):function(e){var t=function(e){var t=ht(e),r=t.length;for(;r--;){var n=t[r],o=e[n];t[r]=[n,o,Xe(o)]}return t}(e);if(1==t.length&&t[0][2])return Ze(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,o){var a=r.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=r[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var f=(u=r[a])[0],l=e[f],p=u[1];if(c&&u[2]){if(void 0===l&&!(f in e))return!1}else{var h=new Ee;if(o)var d=o(l,p,f,e,t,h);if(!(void 0===d?Pe(p,l,o,n|i,h):d))return!1}}return!0}(r,e,t)}}(e):Je(t=e)?(r=Ye(t),function(e){return null==e?void 0:e[r]}):function(e){return function(t){return Be(t,e)}}(t);var t,r}function ze(e){if(!ct(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=qe(e),r=[];for(var n in e)("constructor"!=n||!t&&re.call(e,n))&&r.push(n);return r}function Le(e){return ot(e)?e:Qe(e)}function Ue(e,t,r,o,a,s){var c=a&i,u=e.length,f=t.length;if(u!=f&&!(c&&f>u))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var p=-1,h=!0,d=a&n?new Ie:void 0;for(s.set(e,t),s.set(t,e);++p<u;){var v=e[p],y=t[p];if(o)var g=c?o(y,v,p,t,e,s):o(v,y,p,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!W(t,(function(e,t){if(!d.has(t)&&(v===e||r(v,e,o,a,s)))return d.add(t)}))){h=!1;break}}else if(v!==y&&!r(v,y,o,a,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Ke(e){return function(e,t,r){var n=t(e);return ot(e)?n:N(n,r(e))}(e,dt,$e)}function He(e,t){var r=e.__data__;return function(e){var t=o(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Ne(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(r)?r:void 0}xe.prototype.clear=function(){this.__data__=ge?ge(null):{}},xe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},xe.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return re.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:re.call(t,e)},xe.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(e){var t=this.__data__,r=De(t,e);return!(r<0)&&(r==t.length-1?t.pop():ue.call(t,r,1),!0)},Oe.prototype.get=function(e){var t=this.__data__,r=De(t,e);return r<0?void 0:t[r][1]},Oe.prototype.has=function(e){return De(this.__data__,e)>-1},Oe.prototype.set=function(e,t){var r=this.__data__,n=De(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},je.prototype.clear=function(){this.__data__={hash:new xe,map:new(he||Oe),string:new xe}},je.prototype.delete=function(e){return He(this,e).delete(e)},je.prototype.get=function(e){return He(this,e).get(e)},je.prototype.has=function(e){return He(this,e).has(e)},je.prototype.set=function(e,t){return He(this,e).set(e,t),this},Ie.prototype.add=Ie.prototype.push=function(e){return this.__data__.set(e,r),this},Ie.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new Oe},Ee.prototype.delete=function(e){return this.__data__.delete(e)},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Oe){var n=r.__data__;if(!he||n.length<199)return n.push([e,t]),this;r=this.__data__=new je(n)}return r.set(e,t),this};var We=fe?G(fe,Object):yt,$e=fe?function(e){for(var t=[];e;)N(t,We(e)),e=se(e);return t}:yt,Ve=function(e){return ne.call(e)};function Ge(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||B.test(e))&&e>-1&&e%1==0&&e<t}function Je(e,t){if(ot(e))return!1;var r=o(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ft(e))||(j.test(e)||!O.test(e)||null!=t&&e in Object(t))}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q)}function Xe(e){return e==e&&!ct(e)}function Ze(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(pe&&Ve(new pe(new ArrayBuffer(1)))!=x||he&&Ve(new he)!=y||de&&Ve(de.resolve())!=_||ve&&Ve(new ve)!=w||ye&&Ve(new ye)!=S)&&(Ve=function(e){var t=ne.call(e),r=t==m?e.constructor:void 0,n=r?et(r):void 0;if(n)switch(n){case me:return x;case _e:return y;case be:return _;case we:return w;case Ce:return S}return t});var Qe=tt((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ft(e))return Ae?Ae.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var r=[];return I.test(e)&&r.push(""),e.replace(E,(function(e,t,n,o){r.push(n?o.replace(F,"$1"):t||e)})),r}));function Ye(e){if("string"==typeof e||ft(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function et(e){if(null!=e){try{return te.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function tt(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(tt.Cache||je),r}function rt(e,t){return e===t||e!=e&&t!=t}function nt(e){return function(e){return ut(e)&&it(e)}(e)&&re.call(e,"callee")&&(!ce.call(e,"callee")||ne.call(e)==c)}tt.Cache=je;var ot=Array.isArray;function it(e){return null!=e&&st(e.length)&&!at(e)}function at(e){var t=ct(e)?ne.call(e):"";return t==d||t==v}function st(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function ct(e){var t=o(e);return!!e&&("object"==t||"function"==t)}function ut(e){return!!e&&"object"==o(e)}function ft(e){return"symbol"==o(e)||ut(e)&&ne.call(e)==k}var lt,pt=H?(lt=H,function(e){return lt(e)}):function(e){return ut(e)&&st(e.length)&&!!R[ne.call(e)]};function ht(e){return it(e)?Fe(e):function(e){if(!qe(e))return le(e);var t=[];for(var r in Object(e))re.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}function dt(e){return it(e)?Fe(e,!0):ze(e)}function vt(e){return e}function yt(){return[]}e.exports=function(e,t){return null==e?{}:function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],s=e[a];r(s,a)&&(i[a]=s)}return i}(e,Ke(e),Me(t))}}(pt,pt.exports);var ht=p(pt.exports),dt=9007199254740991,vt="[object Arguments]",yt="[object Function]",gt="[object GeneratorFunction]",mt="[object Symbol]",_t="object"==o(l)&&l&&l.Object===Object&&l,bt="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,wt=_t||bt||Function("return this")();function Ct(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var kt=Object.prototype,St=kt.hasOwnProperty,At=kt.toString,xt=wt.Symbol,Ot=kt.propertyIsEnumerable,jt=xt?xt.isConcatSpreadable:void 0,It=Math.max;function Et(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=Ft),o||(o=[]);++i<a;){var s=e[i];t>0&&r(s)?t>1?Et(s,t-1,r,n,o):Ct(o,s):n||(o[o.length]=s)}return o}function Ft(e){return Pt(e)||function(e){return function(e){return Tt(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=dt}(e.length)&&!function(e){var t=function(e){var t=o(e);return!!e&&("object"==t||"function"==t)}(e)?At.call(e):"";return t==yt||t==gt}(e)}(e)}(e)&&St.call(e,"callee")&&(!Ot.call(e,"callee")||At.call(e)==vt)}(e)||!!(jt&&e&&e[jt])}function Dt(e){if("string"==typeof e||function(e){return"symbol"==o(e)||Tt(e)&&At.call(e)==mt}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var Bt,Rt,Pt=Array.isArray;function Tt(e){return!!e&&"object"==o(e)}Bt=function(e,t){return null==e?{}:function(e,t){return function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],s=e[a];r(s,a)&&(i[a]=s)}return i}(e=Object(e),t,(function(t,r){return r in e}))}(e,function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(Et(t,1),Dt))},Rt=It(void 0===Rt?Bt.length-1:Rt,0);var Mt="object"==o(l)&&l&&l.Object===Object&&l,zt="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,Lt=(Mt||zt||Function("return this")()).Symbol,Ut=Lt?Lt.prototype:void 0;Ut&&Ut.toString;var Kt=function(e){return!lt(e)},Ht=function(e){return function(e){return!ut(e)}(e)&&function(e){return null!=e}(e)},Nt=function(e){return ht(e,Ht)};var Wt={exports:{}};!function(e,t){e.exports=function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,o=0;o<64;)e(n)&&(o<8&&(s[o]=r(t.pow(n,.5))),c[o]=r(t.pow(n,1/3)),o++),n++}();var u=[],f=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],f=r[5],l=r[6],p=r[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var d=u[h-15],v=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,y=u[h-2],g=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;u[h]=v+u[h-7]+g+u[h-16]}var m=n&o^n&i^o&i,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&f^~s&l)+c[h]+u[h];p=l,l=f,f=s,s=a+b|0,a=i,i=o,o=n,n=b+(_+m)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+f|0,r[6]=r[6]+l|0,r[7]=r[7]+p|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=t.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=i._createHelper(f),r.HmacSHA256=i._createHmacHelper(f)}(Math),e.SHA256}(S())}(Wt);var $t=p(Wt.exports),Vt=new ct(at),Gt="properties.order_id",Jt="properties.item_ids",qt="properties.products",Xt="properties.product_id",Zt={"order completed":{itemIdsKey:qt,transactionIdKey:Gt},"checkout started":{itemIdsKey:qt,transactionIdKey:Gt},"product added":{itemIdsKey:Xt},"payment info entered":{itemIdsKey:Jt,transactionIdKey:"properties.checkout_id"},"promotion clicked":{itemIdsKey:Jt},"promotion viewed":{itemIdsKey:Jt},"product added to wishlist":{itemIdsKey:Xt},"product viewed":{itemIdsKey:Xt},"product list viewed":{itemIdsKey:qt},"products searched":{itemIdsKey:Jt,searchStringKey:"properties.query"}},Qt=function(e,t){Kt(t)?window.snaptr("track",e,t):window.snaptr("track",e)},Yt=function(e,t,r){var n={price:parseFloat(_(e,"properties.price")||_(e,"properties.value")||_(e,"properties.revenue")),client_deduplication_id:_(e,"properties.client_deduplication_id"),currency:_(e,"properties.currency"),transaction_id:_(e,"properties.transactionId")||_(e,"properties.transaction_id"),item_category:_(e,"properties.category"),description:_(e,"properties.description"),search_string:_(e,"properties.search_string"),number_items:parseInt(_(e,"properties.number_items")||_(e,"properties.quantity"),10),payment_info_available:parseInt(_(e,"properties.payment_info_available"),10),sign_up_method:_(e,"properties.sign_up_method"),success:parseInt(_(e,"properties.success"),10)};return 0!==n.payment_info_available&&1!==n.payment_info_available&&(n.payment_info_available=null),0!==n.success&&1!==n.success&&(n.success=null),r&&(n.client_deduplication_id=_(e,"".concat(t||"messageId"))),n=Nt(n)},er=function(e,t,r){var n=Yt(e,t,r);return n.item_ids=_(e,Jt),n=Nt(n)},tr=function(e,t,n,o){var i=e.toLowerCase().trim(),a=Zt[i],s=Yt(t,n,o);if(a){var c=a.itemIdsKey,u=a.transactionIdKey,f=a.searchStringKey,l=[];l=c===qt?function(e){var t=[],r=_(e,qt);return r&&Array.isArray(r)?r.forEach((function(e,r){var n=e.product_id;n?t.push(n):Vt.info("product_id not present for product at index ".concat(r))})):t=null,t}(t):c===Xt?function(e){var t=[],r=_(e,Xt);return Ht(r)?t.push(r):(Vt.info("product_id is not present"),t=null),t}(t):_(t,c),s=r(r({},s),{},{item_ids:l}),u&&(s.transaction_id=_(t,u)),f&&(s.search_string=_(t,f))}return s=Nt(s)},rr=function(e,t,r){var n={};return"sha256"===e?(t&&(n.user_hashed_email=$t(t).toString()),r&&(n.user_hashed_phone_number=$t(r).toString())):(t&&(n.user_email=t),r&&(n.user_phone_number=r)),n};var nr=new ct(at),or=function(){function e(t,r,n){i(this,e),r.logLevel&&nr.setLogLevel(r.logLevel),this.analytics=r,this.pixelId=t.pixelId,this.hashMethod=t.hashMethod,this.name=it,this.deduplicationKey=t.deduplicationKey,this.enableDeduplication=t.enableDeduplication,this.eventMappingFromConfig=t.eventMappingFromConfig,this.trackEvents=["SIGN_UP","OPEN_APP","SAVE","SUBSCRIBE","COMPLETE_TUTORIAL","INVITE","LOGIN","SHARE","RESERVE","ACHIEVEMENT_UNLOCKED","SPENT_CREDITS","RATE","START_TRIAL","LIST_VIEW"],this.ecomEvents={PURCHASE:"PURCHASE",START_CHECKOUT:"START_CHECKOUT",ADD_CART:"ADD_CART",ADD_BILLING:"ADD_BILLING",AD_CLICK:"AD_CLICK",AD_VIEW:"AD_VIEW",ADD_TO_WISHLIST:"ADD_TO_WISHLIST",VIEW_CONTENT:"VIEW_CONTENT",SEARCH:"SEARCH"},this.customEvents=["custom_event_1","custom_event_2","custom_event_3","custom_event_4","custom_event_5"];var o=null!=n?n:{};this.shouldApplyDeviceModeTransformation=o.shouldApplyDeviceModeTransformation,this.propagateEventsUntransformedOnError=o.propagateEventsUntransformedOnError,this.destinationId=o.destinationId}return s(e,[{key:"init",value:function(){!function(e,t,r){if(!e.snaptr){var n=e.snaptr=function(){n.handleRequest?n.handleRequest.apply(n,arguments):n.queue.push(arguments)};n.queue=[];var o="script",i=t.createElement(o);i.async=!0,i.src="https://sc-static.net/scevent.min.js",i.setAttribute("data-loader","RS_JS_SDK");var a=t.getElementsByTagName(o)[0];a.parentNode.insertBefore(i,a)}}(window,document);var e=ot.getUserTraits(),t=null==e?void 0:e.email,r=null==e?void 0:e.phone,n=rr(this.hashMethod,t,r);n=Nt(n),window.snaptr("init",this.pixelId,n)}},{key:"isLoaded",value:function(){return!!window.snaptr}},{key:"isReady",value:function(){return this.isLoaded()}},{key:"identify",value:function(e){var t=e.message,n=_(t,"context.traits.email"),o=_(t,"context.traits.phone"),i=_(t,"context.ip")||_(t,"request_ip"),a={};n||o||i?(a=r(r({},a=rr(this.hashMethod,n,o)),{},{ip_address:i}),a=Nt(a),window.snaptr("init",this.pixelId,a)):nr.error("User parameter (email or phone number or ip address) is required for Identify call")}},{key:"track",value:function(e){var t=this,r=e.message,n=r.event,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"to",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={};return Array.isArray(e)&&e.forEach((function(e){if(Kt(e[t])){var i=n?e[t].toLowerCase().trim():e[t].trim();o[i]?o[i].includes(e[r])||o[i].push(e[r]):o[i]=[e[r]]}})),o}(this.eventMappingFromConfig,"from","to",!1);if(n)try{if(o[n]){var i=function(e,t){return t[e]?t[e]:null}(n,o);i.forEach((function(e){Qt(e,tr(n,r,t.deduplicationKey,t.enableDeduplication))}))}else switch(n.toLowerCase().trim()){case"order completed":Qt(this.ecomEvents.PURCHASE,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;case"checkout started":Qt(this.ecomEvents.START_CHECKOUT,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;case"product added":Qt(this.ecomEvents.ADD_CART,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;case"payment info entered":Qt(this.ecomEvents.ADD_BILLING,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;case"promotion clicked":Qt(this.ecomEvents.AD_CLICK,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;case"promotion viewed":Qt(this.ecomEvents.AD_VIEW,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;case"product added to wishlist":Qt(this.ecomEvents.ADD_TO_WISHLIST,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;case"product viewed":case"product list viewed":Qt(this.ecomEvents.VIEW_CONTENT,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;case"products searched":Qt(this.ecomEvents.SEARCH,tr(n,r,this.deduplicationKey,this.enableDeduplication));break;default:if(!this.trackEvents.includes(n.trim().toUpperCase())&&!this.customEvents.includes(n.trim().toLowerCase()))return void nr.error("Event doesn't match with Snap Pixel Events");Qt(n,er(r,this.deduplicationKey,this.enableDeduplication))}}catch(a){nr.error("track failed with following error",a)}else nr.error("Event name is not present")}},{key:"page",value:function(e){var t=e.message;Qt("PAGE_VIEW",er(t,this.deduplicationKey,this.enableDeduplication))}}]),e}();return e.SnapPixel=or,e}({});
//# sourceMappingURL=SnapPixel.min.js.map
